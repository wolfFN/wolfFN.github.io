---
title: Mac开发环境配置
tags: [mac, tools]
---
> 本文主要记录Mac开发环境的设置,以及一些优秀软件,使用技巧,等, 后续还会继续逐渐添加.

> 所有的设置,软件以及技巧都追求 在极致简洁和极致效率, 最大可能提升工具效率,以提升生产力. 

> 主要作为个人笔记性质,故有些细节略去.如有不解,欢迎留言.如有推荐 or 其他软件问题,欢迎留言探讨.

## OS X 系统设置
1. 触摸板
   1. Trackpad: `System Preferences` -> `Trackpad`
   2. `Point & Click `-> `Tap to click`.
   3. `Point & Click`  ->  `Look up & data detectors` -> `Tap with three fingers`
   4. `System Preferences` -> `Accessibility` -> `Mouse & Trackpad` -> `Trackpad Options` -> `Enable Dragging` -> `three finger drag`
   > 10.15后，Dragging 选项在 `Accessibility` -> `Pointer Control` -> `Trackpad Options` -> `Enable Dragging` -> `three finger drag`

<!--truncate-->

1. 键盘: `System Preferences` -> `Keyboard`
   1. touchbar后不再需要。把 F1-F12 改成标准功能键：` Use all F1, F2, etc. keys as standard function keys`.
   2. `Shortcuts`->`All controls`.
1. Dock: `System Preference` -> `Dock`
   1. 移除不常用的APP
   2. 移动到左侧: `Position on screen` : `left`
   3. 不重复显示已打开应用，选中如下两项：
      * `Minimize windows into application icon`      
      * Show indicators for open applications`
1. `Finder` -> `Preference`->`General`
   1. `Show these items on the desktop` -> 仅保留`External disks`
   2. `New Finder windows show` -> `user name`
   3. `Tags` 全部移除
   4. `SideBar` 仅保留必须，`workspace`文件夹可以拖动进入 SideBar
   5. 最后一个Tab，`Advanced` -> `When performing a search` : `Search the Current Folder`
1. 取消自动更新: `App Store`  -> `Preference` -> `Automatically check for updates`
1. `Dictionary -> Preferences`,  添加 `牛津英汉汉英词典` `现代汉语规范词典`.
1. 菜单上显示音量控制图标:`System Preference` -> `Sound` -> `Show volume in menu bar`
1. 菜单上显示蓝牙图标: `System Preference` -> `BlueTooth` -> `Show BlueTooth in menu bar`
1. 移除Guest用户: `System Preference` -> `Users&Groups` -> `Guest User` -> `Allow guests to log in this computer`
1. 输入法快捷键: `Keyboard` -> `Shortcuts` -> `Input Sources/Spotlight`.
1. 找回`open any where`选项.
   ```bash
   sudo spctl --master-disable
   ```
1. 打开子像素抗锯齿，解决vscode字体太细问题
   ```bash
   defaults write -g CGFontRenderingFontSmoothingDisabled -bool NO
   ```
1. 热区锁屏:`Desktop && Screen Saver` -> `Screen Saver` -> `Hot Corners`. 右下角选择：`Put Display to Sleep`。左下角选择：`Desktop`
1. `~/.vimrc`:

   ``` bash
   syntax on
   syntax enable
   set nu
   set hlsearch
   set ruler
   set cursorline
   ```

1. [一键开启 HiDPI](https://github.com/xzhih/one-key-hidpi/blob/master/README-zh.md)



## 开发工具

1. Homebrew, 期间会自动安装`Command Line Tools`
   ``` bash
   ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
   brew doctor #验证安装正确
   # 以下为常用命令
   brew install [package] 		# 安装包
   brew uninstall [package] 	# 卸载包
   brew outdated 						# 列出过时的软件
   brew upgrade 							# 更新过时的软件(全部或指定)
   brew update 							# 升级homebrew在服务器端上的包目录

   brew list 					# 列出所有安装的包
   brew home [name]		# 访问官网
   brew cleanup [name]	# 清理旧版本缓存，name可选，若不指定，则清理所有
   brew cleanup -n			# 列出可以清理的应用，但不进行操作
   brew info 					# 安装包信息检索
   ```

   若命令长时间不执行，且未弹出`Command Line Tools`的许可请求
   ``` bash 
   # 手动安装 command line tools
   xcode-select --install
   ```

1. iterm2
   ``` bash
   brew cask install iterm2
   ```
   Config:
   1. `Preference` -> `Appearance` -> `General` -> `Theme` -> `Minimal`
   1. `Preference` -> `Profiles` -> `Duplicate Profile` -> `set as default`
   1. `Preference` -> `Profiles` -> Choose your profile -> `Keys` -> 选中两个Esc
   ![mac-iterm-alt.png](/img/blog/Mac/mac-iterm-alt.png)
   1. `Preference` -> `Profiles` -> `General` -> `Working Directory` -> `Reuse Previous session's directory`
   1. `Window` -> `Transparency / Blur`
   1. 禁止tab之间共享history，使用`zsh`，在`~/.zshrc`输入以下内容：
      ``` bash
      unsetopt inc_append_history
      unsetopt share_history
      ```
   1. 下载[主题配色](https://iterm2colorschemes.com/)，推荐：Gruvbox Dark，Snazzy，Solarized Dark Higher Contrast，ayu
   1. export脚本下，使用sz,rz：`export LC_CTYPE=en_US`

1. [Oh My Zsh](http://ohmyz.sh/)
   ``` bash
   zsh --version # 查看版本
   brew install zsh
   chsh -s /bin/zsh

   brew install wget
   wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - |sh
   ```

   ```
   推荐插件，主题：
   ​``` bash
   plugins=(git textmate ruby autojump osx mvn gradle)
   ZSH_THEME="robbyrussell"
   # ZSH_THEME="agnoster"
   # ZSH_THEME="ys"
   # ZSH_THEME="avit"
   ```

1. [nvm](https://github.com/creationix/nvm/blob/master/README.md): NodeJS包管理工具
    安装:
   ``` bash
   curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash
   # 将以下内容添加到 ~/.zshrc
   export NVM_DIR="$HOME/.nvm"
   [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" # This loads nvm
   # 重新加载 ~/.zshrc
   source ~/.zshrc
   ```
   常用命令:
   ``` bash
   nvm install 8                              # 安装v8,同样可以 6.10, 0.10.35等
   nvm ls                                     # 列出已安装版本
   nvm alias default 6                        # 使用v6
   nvm current                                # 查看当前版本
   nvm run 0.10.32 app.js                     # 使用 v0.10.32 运行 app.js
   nvm uninstall 6                            # 删除 v6
   ```

1. [vs code](https://code.visualstudio.com/): 文本编辑器,不喜欢IDE的推荐使用,巨硬出品,好评!
   推荐插件: vscode-icon,  Code Runner
   推荐主题: `One Dark Pro`
   运行VS code并打开命令面板（ ⇧⌘P ），然后输入` shell command` 找到:
   ``` bash
    Install 'code' command in PATH
   ```

1. [Jupyter Notebook](http://jupyter.org/) : 
   Jupyter Notebook是一块所见即所得的画布，通过在浏览器上编辑代码，让开发人员实现展示与快速迭代的利器。项目最初给予python，通过安装插件，对Javascript也有良好的支持。

   本文仅涉及最基本安装，更多对`Javascript`的支持(es6, npm package)可以参考：[写给Javascript程序员的Jupyter Notebook使用指北](http://wolffn.github.io/2018/06/14/%E5%86%99%E7%BB%99Javascript%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84Jupyter-Notebook%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8C%97/)

   ``` bash
   # 首先安装python3
   brew install python3
   python3 --version # 确认安装成功
   pip3 --version # 确认pip3安装成功
   pip3 install jupyter notebook 
   # 此时已经安装成功，但是还没有对js的支持。
   # 进入你希望存储notebook文件的目录，即可运行
   cd ~/workspace/
   mkdir my-notebooks
   jupyter notebook
   
   # 安装对js的支持
   npm i -g ijavascript
   # 此时jupyter中还是没有对javascript的支持
   # 手动进入ijavascript所在目录，执行一次.
   cd /Users/[user-name]/.nvm/versions/node/v8.1.0/lib/node_modules/ijavascript/bin
   ./ijavascript.js
   
   # 退出后再一次执行命令，就可以看到对js的支持了。
   jupyter notebook
   ```

1. [WebStorm](http://www.jetbrains.com/webstorm/) : FE们最爱的IDE, 推荐grey_orange主题

1. [Dash](https://kapeli.com/dash): Mac专属文档查询工具.

1. 数据库：我个人开发使用`MySQL`以及`Sequel Pro`, 安装配置以及使用指南请参考[这篇文章](http://www.jianshu.com/p/2fab19d96eb8)。

1. [Charles](http://www.jianshu.com/p/8cef3406129c): 抓包/Mock工具，具体配置点击查看。

## 常用软件
1. 浏览器: 日常上网灌水用Safari,占用内存小&省电; 干活用[chrome](https://www.google.com/chrome/index.html).
1. Alfred：具体使用技巧待整理。
1. [Rescue Time](https://www.rescuetime.com/): 日常行为管理,可以分析出日常使用电脑时间分配.细化到软件/网站层面,对于提升工作效率还是很有意义的.
1. [sizeup](http://www.irradiatedsoftware.com/sizeup/): 窗口管理, 多/大显示器尤其实用.  

   * 备选：Divvy
1. [IINA](https://lhc70000.github.io/iina/zh-cn/) : 多媒体播放,mpv内核,开源软件,快速迭代中,强推.
1. [Transmission](https://transmissionbt.com/download/): BT下载.
1. [The Unarchiver](https://itunes.apple.com/tw/app/the-unarchiver/id425424353?l=zh): 解压缩
1. [HandShaker](http://www.smartisan.com/apps/handshaker) : 情怀工匠精神锤出品,mac上管理安卓手机文件一把好手.  

   * 更新：锤子很久不更新了，现已改用[Airdroid](https://www.airdroid.com/zh-cn/)
1. [Typora](https://www.typora.io/) : MarkDown写作.Mac上面写作markdown的工具很多,此前一直使用网易云笔记的Markdown功能.客观说做的不错,加上同步很方便.这里郑重推荐Typora,win/Linux/Mac三平台通用,当前处于beta阶段,免费.
1. Welly: 论坛灌水, 北邮人 && 水木网友你们懂的。
   ```bash
   brew cask install welly
   ```
1. 阅读: [ClearView](https://itunes.apple.com/us/app/clearview/id557090104?mt=12)，略贵，但完美支持mobi,epub,pdf。
1. [Noizio](http://www.noiz.io/): 白噪音软件,可以组合多种常见白噪音,强推.
1. [Copia](http://www.dollaropath.com/copia/): 剪切板增强工具.  

   * 不知道为什么这么好用的工具竟然从app store删除了。忍痛买了Paste。

## 美化
这类软件属于没有无所谓，有了以后心情会好一些，所以推荐可以尝试下。
1. [Irvue](https://itunes.apple.com/cn/app/irvue-unsplash-wallpapers/id1039633667?mt=12): 自动获取 Unsplash 上的高质量无版权图片作为壁纸，并提供了其它一系列相关的功能，如对图片点赞、下载、加入黑名单等。  
   * 更新：升级10.14后，改用macOS自带的动态壁纸了。
1. [Wallpaper Wizard 2](https://itunes.apple.com/cn/app/wallpaper-wizard-2/id1266674560?mt=12&ign-mpt=uo%3D4): 也是壁纸应用，特点是提供一个很大的壁纸库用以挑选，之后更换自己事先挑选好的壁纸。
1. [Fliqlo](http://fliqlo.com/#about-screensaver): 屏保，极简时钟。
1. [rasmusnielsen](http://www.rasmusnielsen.dk/applewatch/): 屏保，拟物表盘。



## 其他日常使用技巧
1. 微信免登陆
   ```bash
   git clone https://github.com/Sunnyyoung/WeChatTweak-macOS.git
   cd WeChatTweak-macOS
   sudo make install
   ```
   重启微信后，修改Preference。
   ![wechat-config.png](/img/blog/Mac/wechat-config.png)
1. 生成ssh key, 并上传至Github/ 其他托管平台
   生成ssh key: (此处以github为例,其他平台类似)
   ``` bash
   ssh-keygen -t rsa -C "xxxxx@xxxxx.com"  
   # Generating public/private rsa key pair...
   # 三次回车即可生成 ssh key
   ```
   查看你的public key，并把他添加到 Github
   ``` bash
   cat ~/.ssh/id_rsa.pub
   # ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC6eNtGpNGwstc....
   ```
   校验登录:
   ``` bash
   ssh -T git@github.com
   # Attempts to ssh to GitHub
   # 输入 yes
   # Hi username! You've successfully authenticated, but GitHub does not provide shell access.
   ```
2. 清除软件卸载残留
   ``` bash
   # Mac完全卸载软件
    ~/Library/Application Support/(应用程序名称)
    ~/Library/Preferences/(应用程序名称)
    ~/Library/Caches/(应用程序名称)
   ```
3. 简单翻墙:下载可用hosts 替换`/etc/hosts`

## 参考:
1. http://blog.jobbole.com/63130/
2. http://macshuo.com/?p=676
3. https://help.github.com/articles/connecting-to-github-with-ssh/